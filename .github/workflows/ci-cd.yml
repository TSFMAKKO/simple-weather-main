name: æŒçºŒæ•´åˆ (CI)  # workflow åç¨±ï¼Œå¯è‡ªè¨‚

on:
  push:
    branches: [main]  # ç•¶ main åˆ†æ”¯æœ‰ push æ™‚è§¸ç™¼
  pull_request:       # ç•¶å»ºç«‹ PR æ™‚è§¸ç™¼

jobs:
  ci:               # job IDï¼Œå¯è‡ªè¨‚
    runs-on: ubuntu-latest  # å›ºå®šèªæ³•ï¼ŒæŒ‡å®šåŸ·è¡Œç’°å¢ƒç‚º Ubuntu

    steps:              # å›ºå®šèªæ³•ï¼Œæ”¾ç½®å¤šå€‹æ­¥é©Ÿ
      - name: ä¸‹è¼‰ç¨‹å¼ç¢¼å€‰åº«  # step é¡¯ç¤ºåç¨±ï¼Œå¯è‡ªè¨‚
        uses: actions/checkout@v6  # å›ºå®šèªæ³•ï¼Œä½¿ç”¨å®˜æ–¹ action ä¸‹è¼‰ç¨‹å¼ç¢¼

      - name: æª¢æŸ¥ç¨‹å¼ç¢¼å€‰åº«ç‹€æ…‹      # step é¡¯ç¤ºåç¨±ï¼Œå¯è‡ªè¨‚
        run: |                     # å›ºå®šèªæ³•ï¼Œç”¨ shell æŒ‡ä»¤
          echo "ğŸ“‹ ä½œæ¥­ç³»çµ±è³‡è¨Š"
          cat /etc/os-release

          echo ""
          echo "ğŸ“‚ ç›®å‰å·¥ä½œç›®éŒ„"
          pwd

          echo ""
          echo "ğŸ“ ç›®éŒ„æª”æ¡ˆåˆ—è¡¨"
          ls -al

          echo ""
          echo "ğŸŸ¢ Node.js ç‰ˆæœ¬"
          node -v

          echo ""
          echo "ğŸŒ¿ Git åˆ†æ”¯è³‡è¨Š"
          git branch -vv

      - name: Node.js ç’°å¢ƒ # è¨­å®š Node.js ç’°å¢ƒ
        uses: actions/setup-node@v6
        with:
          node-version: 24


      - name: å®‰è£ç›¸ä¾å¥—ä»¶ # å®‰è£ç›¸ä¾å¥—ä»¶
        run: npm ci

      - name: Lintæª¢æŸ¥
        run: npm run lint